<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>Video finder - iframe Embed</title>
    <style>
        body{
            display: flex;
        }
        #searchIframe{
            border: 1px solid #d8d8d8;
            width: 476px;
            height: 96vh;
            position: absolute;
            right: 0px;
            top: 0;
        }
        .player-wrapper{
            width: 600px;
            margin: 100px 0 0 100px;
        }
    </style>
</head>
<body>

    <iframe src="https://video-finder-pro.dailymotion.com?shortFilter=[exclude_channel_ids=tv]&owners=australiancommunitymedia" id="searchIframe"></iframe>
    
    
    <div class="player-wrapper" id="my-dailymotion-player">
        My Player placeholder 
    </div>
    <script>
        window.addEventListener("message",(msg)=>{
            if(msg.data && msg.data.from && msg.data.from==="dm-search-video-click"){
                const videoid = msg.data.info.id;
                // create the iframe
                document.getElementById("my-dailymotion-player").innerHTML = `
                    <div style="position:relative;padding-bottom:56.25%;height:0;overflow:hidden;">
                        <iframe style="width:100%;height:100%;position:absolute;left:0px;top:0px;overflow:hidden" 
                        frameborder="0" 
                        type="text/html" 
                        src="https://geo.dailymotion.com/player/xijpc.html?video=${videoid}" 
                        width="100%"
                        height="100%"
                        allowfullscreen 
                        allow="autoplay; fullscreen; picture-in-picture; web-share">
                        </iframe>
                    </div>
                `;
            }
        })
        
    </script>

</body>
</html>


